<p-menubar [model]="menuItems" class="app-menubar">
  <ng-template pTemplate="end">
    <div class="menubar-end">
      <span class="connection-status" [class]="connectionStatusClass">
        <i class="pi" [class.pi-check-circle]="connectionStatus === 'connected'" 
           [class.pi-spin]="connectionStatus === 'connecting' || connectionStatus === 'reconnecting'"
           [class.pi-spinner]="connectionStatus === 'connecting' || connectionStatus === 'reconnecting'"
           [class.pi-times-circle]="connectionStatus === 'disconnected' || connectionStatus === 'error'"></i>
        {{ connectionStatusLabel }}
      </span>
      <button
        pButton
        type="button"
        [icon]="themeIcon"
        [label]="themeLabel"
        (click)="toggleTheme()"
        class="p-button-text theme-toggle"
        aria-label="Toggle theme"
      >{{ themeLabel }}</button>
    </div>
  </ng-template>
</p-menubar>

<div class="app-container">
  <h1>{{ title }}</h1>
  
  <!-- D2D Views based on menu selection -->
  <div class="views-container">
    @switch (currentView) {
      @case ('top-of-book') {
        <app-top-of-the-book-view></app-top-of-the-book-view>
      }
      @case ('market-data-blotter') {
        <app-market-data-blotter></app-market-data-blotter>
      }
    }
  </div>

</div>
<router-outlet></router-outlet>
