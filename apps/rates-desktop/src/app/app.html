<p-menubar [model]="menuItems" class="app-menubar">
  <ng-template pTemplate="end">
    <div class="menubar-end">
      <span class="connection-status" [class]="connectionStatusClass">
        <i class="pi" [class.pi-check-circle]="connectionStatus === 'connected'" 
           [class.pi-spin]="connectionStatus === 'connecting' || connectionStatus === 'reconnecting'"
           [class.pi-spinner]="connectionStatus === 'connecting' || connectionStatus === 'reconnecting'"
           [class.pi-times-circle]="connectionStatus === 'disconnected' || connectionStatus === 'error'"></i>
        {{ connectionStatusLabel }}
      </span>
      <button
        pButton
        type="button"
        [icon]="themeIcon"
        [label]="themeLabel"
        (click)="toggleTheme()"
        class="p-button-text theme-toggle"
        aria-label="Toggle theme"
      >{{ themeLabel }}</button>
    </div>
  </ng-template>
</p-menubar>

<div class="app-container">
  <h1>{{ title }}</h1>
  
  <!-- D2D: Top of the Book View -->
  <div class="views-container">
    <app-top-of-the-book-view></app-top-of-the-book-view>
  </div>
  
  <!-- Full Market Data from AMPS -->
  <div class="market-data-section">
    <h2>Full Market Data</h2>
    <lib-data-grid
      #marketDataGrid
      [columns]="marketDataColumns"
      [rowData]="[]"
      [rowIdField]="'Id'"
      [highFrequencyMode]="true"
      [asyncTransactionWaitMillis]="50"
      [showStatusBar]="true"
      height="350px"
      [gridOptions]="{
        pagination: false,
        rowSelection: {
          mode: 'singleRow'
        },
        cellSelection: true,
        animateRows: false
      }">
    </lib-data-grid>
  </div>

</div>
<router-outlet></router-outlet>
